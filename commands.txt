# Queries
:OUTPUT:STATE?	
:SENSE:FUNCTION:STATE? "VOLTAGE"

# setup for a voltage sweep
:syst:beep:stat 0
:SOURCE:CLEAR:IMMEDIATE
:SOURCE:FUNCTION:MODE VOLTAGE
:SOURCE:VOLTAGE:MODE SWEEP
:SOURCE:SWEEP:SPACING LINEAR
:SOURCE:VOLTAGE:RANGE:AUTO 1

:SOURCE:VOLTAGE:START 0
:SOURCE:VOLTAGE:STOP 50
:SOURCE:VOLTAGE:STEP 1

:TRIGGER:CLEAR
:TRIGGER:SEQ1:COUNT 51
:TRIGGER:SEQ1:DELAY 0.1
:TRIGGER:SEQ1:SOURCE IMMEDIATE

# kick off SWEEP
:OUTPUT:STATE ON
:INIT


# Monitor the voltage
:SENSE:VOLTAGE:DC:RANGE:AUTO 1  

# TODO SENSE may be useful for monitoring the current since I think we need a safety cutoff 

##############################################################################

# simpler just to set and query the voltage!!
# do the sweep in python
:SOURCE:VOLTAGE 20
:SOURCE:VOLTAGE?